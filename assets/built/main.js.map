{"version":3,"sources":["main.js"],"names":["_results","posts","title","slug","tags","id","name","description","feature_image","visibility","meta_title","meta_description","created_at","created_by","updated_at","updated_by","parent","meta","pagination","page","limit","pages","total","next","prev","DEBOUNCE","CURRENT_HOST","location","protocol","host","join","LIMIT_TO_SHOW_BUTTON_BACK_TOP","DURANTIONS","SHOW_BUTTON","STATE","menuMobileIsOpened","onInit","$","keyup","onSearch","click","onClickSearch","stopPropagation","onClickScrollTop","onClickMenuMobile","window","scroll","onScroll","changeDropBack","css","display","console","log","drawer","removeClass","addClass","this","scrollTop","fadeIn","fadeOut","showButtonBackTop","event","scrollTo","top","behavior","clearSearchPopover","preventDefault","debounce","searchInit","fn","m","key","clearTimeout","setTimeout","getGhostPostUrl","ghost","url","api","fields","order","inputedSearch","val","ajax","then","res","_posts","map","_post","_array","_tag","push","results","fuzzysort","go","keys","allowTypo","threshold","length","result","obj","append"],"mappings":"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","file":"main.js","sourcesContent":["var _results = {\"posts\":[{\"title\":\"O que você precisa saber antes de resgatar um animal das ruas\",\"slug\":\"como-fazer-um-resgate\",\"tags\":[{\"id\":\"5c4f05c3dc4995000103dafc\",\"name\":\"Resgate\",\"slug\":\"resgate\",\"description\":\"Entenda mais sobre o resgate de um animal lendo nossas postagens.\",\"feature_image\":\"https://blog.ajudeumpet.com.br/content/images/2019/03/Tags-19.png\",\"visibility\":\"public\",\"meta_title\":\"Resgate de animais\",\"meta_description\":\"Entenda mais sobre o resgate de um animal lendo nossas postagens.\",\"created_at\":\"2019-01-28T13:38:11.000Z\",\"created_by\":\"5c4afe76dc4995000103daf1\",\"updated_at\":\"2019-07-25T01:30:09.000Z\",\"updated_by\":\"5d2500980a3a1b00010f90d8\",\"parent\":null},{\"id\":\"5c4f05c3dc4995000103dafd\",\"name\":\"Segurança\",\"slug\":\"seguranca\",\"description\":\"A segurança de nossos amiguinhos em primeiro lugar! Saiba como proteger seu animal e cuide sempre muito bem dele <3\",\"feature_image\":\"https://blog.ajudeumpet.com.br/content/images/2019/03/Tags-23.png\",\"visibility\":\"public\",\"meta_title\":\"Segurança para animais\",\"meta_description\":\"A segurança de nossos amiguinhos em primeiro lugar! Saiba como proteger seu animal e cuide sempre muito bem dele <3\",\"created_at\":\"2019-01-28T13:38:11.000Z\",\"created_by\":\"5c4afe76dc4995000103daf1\",\"updated_at\":\"2019-07-24T19:25:49.000Z\",\"updated_by\":\"5c4afe76dc4995000103daf1\",\"parent\":null}]},{\"title\":\"Do resgate à adoção: quais os passos para salvar um animal da rua?\",\"slug\":\"do-resgate-a-adocao\",\"tags\":[{\"id\":\"5c4f05c3dc4995000103dafc\",\"name\":\"Resgate\",\"slug\":\"resgate\",\"description\":\"Entenda mais sobre o resgate de um animal lendo nossas postagens.\",\"feature_image\":\"https://blog.ajudeumpet.com.br/content/images/2019/03/Tags-19.png\",\"visibility\":\"public\",\"meta_title\":\"Resgate de animais\",\"meta_description\":\"Entenda mais sobre o resgate de um animal lendo nossas postagens.\",\"created_at\":\"2019-01-28T13:38:11.000Z\",\"created_by\":\"5c4afe76dc4995000103daf1\",\"updated_at\":\"2019-07-25T01:30:09.000Z\",\"updated_by\":\"5d2500980a3a1b00010f90d8\",\"parent\":null},{\"id\":\"5c50aeb5dc4995000103dbae\",\"name\":\"Saúde\",\"slug\":\"saude\",\"description\":\"Nessas postagens trataremos de assuntos relacionados à saúde dos pets. Acompanhe com a gente!\",\"feature_image\":\"https://blog.ajudeumpet.com.br/content/images/2019/03/Tags-20.png\",\"visibility\":\"public\",\"meta_title\":\"Saúde dos pets\",\"meta_description\":\"Nessas postagens trataremos de assuntos relacionados à saúde dos pets. Acompanhe com a gente!\",\"created_at\":\"2019-01-29T19:51:17.000Z\",\"created_by\":\"5c4afe76dc4995000103daf1\",\"updated_at\":\"2019-07-24T19:25:49.000Z\",\"updated_by\":\"5c4afe76dc4995000103daf1\",\"parent\":null},{\"id\":\"5c50aeb5dc4995000103dbaf\",\"name\":\"Adoção\",\"slug\":\"adocao\",\"description\":\"Veja aqui a lista de nossas postagens que abordam a adoção.\",\"feature_image\":\"https://blog.ajudeumpet.com.br/content/images/2019/03/Tags-17-1.png\",\"visibility\":\"public\",\"meta_title\":\"Adoção\",\"meta_description\":\"Veja aqui a lista de nossas postagens que abordam a adoção.\",\"created_at\":\"2019-01-29T19:51:17.000Z\",\"created_by\":\"5c4afe76dc4995000103daf1\",\"updated_at\":\"2019-07-24T19:25:49.000Z\",\"updated_by\":\"5c4afe76dc4995000103daf1\",\"parent\":null},{\"id\":\"5c50aeb5dc4995000103dbb0\",\"name\":\"Guarda responsável\",\"slug\":\"guarda-responsavel\",\"description\":\"Ao longo dessas postagens você entenderá o que é a guarda responsável e por que ela é tão importante para o bem estar dos pets.\",\"feature_image\":\"https://blog.ajudeumpet.com.br/content/images/2019/03/Posts-1-15-27-1.png\",\"visibility\":\"public\",\"meta_title\":\"Guarda responsável\",\"meta_description\":\"Ao longo dessas postagens você entenderá o que é a guarda responsável e por que ela é tão importante para o bem estar dos pets.\",\"created_at\":\"2019-01-29T19:51:17.000Z\",\"created_by\":\"5c4afe76dc4995000103daf1\",\"updated_at\":\"2019-07-24T19:25:49.000Z\",\"updated_by\":\"5c4afe76dc4995000103daf1\",\"parent\":null}]},{\"title\":\"Bem-vindos ao blog do Ajude Um Pet!\",\"slug\":\"bem-vindos\",\"tags\":[{\"id\":\"5c51004ddc4995000103dc7c\",\"name\":\"Ajude Um Pet\",\"slug\":\"ajude-um-pet\",\"description\":\"Saiba mais sobre o Ajude Um Pet, esse projeto tão especial pensado e construído por vários voluntários!\",\"feature_image\":\"/content/images/2019/03/Icon_wordpress--512x512--02-4.png\",\"visibility\":\"public\",\"meta_title\":\"Ajude Um Pet\",\"meta_description\":\"Saiba mais sobre o Ajude Um Pet, esse projeto tão especial pensado e construído por vários voluntários!\",\"created_at\":\"2019-01-30T01:39:25.000Z\",\"created_by\":\"5c4afe76dc4995000103daf1\",\"updated_at\":\"2019-04-29T20:54:51.000Z\",\"updated_by\":\"5c4afe76dc4995000103daf1\",\"parent\":null}]}],\"meta\":{\"pagination\":{\"page\":1,\"limit\":3,\"pages\":9,\"total\":25,\"next\":2,\"prev\":null}}}\nvar DEBOUNCE = {};\nvar CURRENT_HOST = [location.protocol, '//', location.host].join('');\nvar LIMIT_TO_SHOW_BUTTON_BACK_TOP = 200\nvar DURANTIONS = {\n    SHOW_BUTTON: 300\n}\nvar STATE = {\n    menuMobileIsOpened: false\n}\n\nonInit();\n\nfunction onInit() {\n    $('#search-field').keyup(onSearch);\n    $('.search-icon').click(onClickSearch);\n    $('.search-popover').click(stopPropagation);\n    $('#back-top').click(onClickScrollTop);\n    $('#menu-mobile').click(onClickMenuMobile);\n    $('#drop-back').click(onClickMenuMobile);\n    $('#drawer-button').click(onClickMenuMobile);\n    $(window).scroll(onScroll)\n}\n\nfunction changeDropBack() {\n    if (STATE.menuMobileIsOpened) {\n        $('#drop-back').css({\n            display: 'none'\n        })\n        return\n    }\n\n    $('#drop-back').css({\n        display: 'block'\n    })\n}\n\nfunction onClickMenuMobile() {\n    console.log('onClickMenuMobile');\n    var drawer = $('#drawer')\n\n    if (STATE.menuMobileIsOpened) {\n        drawer.removeClass('open-drawer')\n    } else {\n        drawer.addClass('open-drawer')\n    }\n    changeDropBack()\n    STATE.menuMobileIsOpened = !STATE.menuMobileIsOpened;\n}\n\nfunction onScroll() {\n    if ($(this).scrollTop() > LIMIT_TO_SHOW_BUTTON_BACK_TOP) {\n        $('#back-top').fadeIn(DURANTIONS.SHOW_BUTTON);\n        return;\n    }\n    $('#back-top').fadeOut(DURANTIONS.SHOW_BUTTON);\n}\n\nfunction showButtonBackTop() {\n    $()\n}\n\nfunction stopPropagation(event) {\n    event.stopPropagation();\n}\n\nfunction onClickScrollTop() {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n\nfunction clearSearchPopover() {\n    $('.search-popover').removeClass('search-popover--show')\n}\n\nfunction onClickSearch(event) {\n    event.preventDefault();\n    stopPropagation(event)\n    $('.search-popover').addClass('search-popover--show')\n    $('html').click(clearSearchPopover)\n}\n\nfunction onSearch() {\n    debounce(searchInit)\n}\n\nfunction debounce(fn, m) {\n    var key = fn.name;\n    if (DEBOUNCE[key]) clearTimeout(DEBOUNCE[key])\n    DEBOUNCE[key] = setTimeout(fn, m || 400)\n}\n\nfunction getGhostPostUrl() {\n    return ghost.url.api('posts', {\n        fields: ['title', 'slug', 'tags'],\n        limit: 'all',\n        order: 'published_at'\n    })\n}\n\nfunction searchInit() {\n    var inputedSearch = $('#search-field').val()\n\n    var url = getGhostPostUrl();\n\n    $.ajax(url).then(function (res) {\n        var fnMapperToRenderize = function(_post) {\n            var _array = []\n            _post.tags.map(function(_tag) {\n                return _array.push(_tag.slug)\n            })\n\n            return ({\n                tags: _array.join(','),\n                title: _post.title\n            })\n        }\n        var _posts = res.posts.map(fnMapperToRenderize)\n        var results = fuzzysort.go(inputedSearch, _posts, {\n            keys: [\n                'title',\n                'tags'\n            ],\n            limit: 6,\n            allowTypo: false,\n            threshold: -3500\n        });\n\n        for (var key in results) {\n            if (key < results.length) {\n                var result = results[key].obj;\n                $('#search-box').css('display', 'block');\n                $('#search-list').append('<li><a href=\"/' + result.slug + '/\">' + result.title + '</a></li>');\n            };\n        }\n    })\n\n}\n"],"sourceRoot":"/source/"}