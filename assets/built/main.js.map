{"version":3,"sources":["main.js"],"names":["DEBOUNCE","CURRENT_HOST","location","protocol","host","join","LIMIT_TO_SHOW_BUTTON_BACK_TOP","DURANTIONS","SHOW_BUTTON","onInit","$","keyup","onSearch","click","onClickSearch","stopPropagation","onClickScrollTop","window","scroll","onScroll","this","scrollTop","fadeIn","fadeOut","showButtonBackTop","event","scrollTo","top","behavior","clearSearchPopover","removeClass","preventDefault","addClass","debounce","searchInit","fn","m","key","name","clearTimeout","setTimeout","getGhostPostUrl","ghost","url","api","fields","formats","inputedSearch","val","ajax","then","res","fuzzysort","go","posts","keys","limit","allowTypo","threshold"],"mappings":"AAAA,IAAIA,SAAW,GACXC,aAAe,CAACC,SAASC,SAAU,KAAMD,SAASE,MAAMC,KAAK,IAC7DC,8BAAgC,IAChCC,WAAa,CACbC,YAAa,KAKjB,SAASC,SACLC,EAAE,iBAAiBC,MAAMC,UACzBF,EAAE,gBAAgBG,MAAMC,eACxBJ,EAAE,mBAAmBG,MAAME,iBAC3BL,EAAE,aAAaG,MAAMG,kBACrBN,EAAEO,QAAQC,OAAOC,UAGrB,SAASA,WACFT,EAAEU,MAAMC,YAAcf,8BACrBI,EAAE,aAAaY,OAAOf,WAAWC,aAGrCE,EAAE,aAAaa,QAAQhB,WAAWC,aAGtC,SAASgB,oBACLd,IAGJ,SAASK,gBAAgBU,GACrBA,EAAMV,kBAGV,SAASC,mBACLC,OAAOS,SAAS,CAAEC,IAAK,EAAGC,SAAU,WAGxC,SAASC,qBACLnB,EAAE,mBAAmBoB,YAAY,wBAGrC,SAAShB,cAAcW,GACnBA,EAAMM,iBACNhB,gBAAgBU,GAChBf,EAAE,mBAAmBsB,SAAS,wBAC9BtB,EAAE,QAAQG,MAAMgB,oBAGpB,SAASjB,WACLqB,SAASC,YAGb,SAASD,SAASE,EAAIC,GAClB,IAAIC,EAAMF,EAAGG,KACTtC,SAASqC,IAAME,aAAavC,SAASqC,IACzCrC,SAASqC,GAAOG,WAAWL,EAAIC,GAAK,KAGxC,SAASK,kBACL,OAAOC,MAAMC,IAAIC,IAAI,QAAS,CAC1BC,OAAQ,CAAC,QAAS,OAAQ,aAC1BC,QAAS,cAIjB,SAASZ,aACL,IAAIa,EAAgBrC,EAAE,iBAAiBsC,MAEnCL,EAAMF,kBAEV/B,EAAEuC,KAAKN,GAAKO,KAAK,SAAUC,GACTC,UAAUC,GAAGN,EAAeI,EAAIG,MAAO,CACjDC,KAAM,CACF,QACA,aAEJC,MAAO,GACPC,WAAW,EACXC,WAAY,SAvExBjD","file":"main.js","sourcesContent":["var DEBOUNCE = {};\nvar CURRENT_HOST = [location.protocol, '//', location.host].join('');\nvar LIMIT_TO_SHOW_BUTTON_BACK_TOP = 200\nvar DURANTIONS = {\n    SHOW_BUTTON: 300\n}\n\nonInit();\n\nfunction onInit() {\n    $('#search-field').keyup(onSearch);\n    $('.search-icon').click(onClickSearch);\n    $('.search-popover').click(stopPropagation);\n    $('#back-top').click(onClickScrollTop);\n    $(window).scroll(onScroll)\n}\n\nfunction onScroll() {\n    if($(this).scrollTop() > LIMIT_TO_SHOW_BUTTON_BACK_TOP) {\n        $('#back-top').fadeIn(DURANTIONS.SHOW_BUTTON);\n        return;\n    }\n    $('#back-top').fadeOut(DURANTIONS.SHOW_BUTTON);\n}\n\nfunction showButtonBackTop() {\n    $()\n}\n\nfunction stopPropagation(event) {\n    event.stopPropagation();\n}\n\nfunction onClickScrollTop() {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n\nfunction clearSearchPopover() {\n    $('.search-popover').removeClass('search-popover--show')\n}\n\nfunction onClickSearch(event) {\n    event.preventDefault();\n    stopPropagation(event)\n    $('.search-popover').addClass('search-popover--show')\n    $('html').click(clearSearchPopover)\n}\n\nfunction onSearch() {\n    debounce(searchInit)\n}\n\nfunction debounce(fn, m) {\n    var key = fn.name;\n    if (DEBOUNCE[key]) clearTimeout(DEBOUNCE[key])\n    DEBOUNCE[key] = setTimeout(fn, m || 300)\n}\n\nfunction getGhostPostUrl() {\n    return ghost.url.api('posts', {\n        fields: ['title', 'slug', 'plaintext'],\n        formats: 'plaintext'\n    })\n}\n\nfunction searchInit() {\n    var inputedSearch = $('#search-field').val()\n\n    var url = getGhostPostUrl();\n\n    $.ajax(url).then(function (res) {\n        var results = fuzzysort.go(inputedSearch, res.posts, {\n            keys: [\n                'title',\n                'plaintext'\n            ],\n            limit: 10,\n            allowTypo: false,\n            threshold: -3500\n        });\n\n        // for (var key in results) {\n        //     if (key < results.length) {\n        //         var result = results[key].obj;\n\n        //         '<a href=\"' + url + '/' + result.slug + '/\">' + result.title + '</a>'\n        //     };\n        // }\n    })\n\n}"],"sourceRoot":"/source/"}