{"version":3,"sources":["main.js"],"names":["DEBOUNCE","CURRENT_HOST","location","protocol","host","join","LIMIT_TO_SHOW_BUTTON_BACK_TOP","DURANTIONS","SHOW_BUTTON","STATE","menuMobileIsOpened","onInit","$","keyup","onSearch","click","onClickSearch","stopPropagation","onClickScrollTop","onClickMenuMobile","window","scroll","onScroll","changeDropBack","css","display","console","log","drawer","removeClass","addClass","this","scrollTop","fadeIn","fadeOut","showButtonBackTop","event","scrollTo","top","behavior","clearSearchPopover","preventDefault","debounce","searchInit","fn","m","key","name","clearTimeout","setTimeout","getGhostPostUrl","ghost","url","api","fields","formats","inputedSearch","val","ajax","then","res","fuzzysort","go","posts","keys","limit","allowTypo","threshold"],"mappings":"AAAA,IAAIA,SAAW,GACXC,aAAe,CAACC,SAASC,SAAU,KAAMD,SAASE,MAAMC,KAAK,IAC7DC,8BAAgC,IAChCC,WAAa,CACbC,YAAa,KAEbC,MAAQ,CACRC,oBAAoB,GAKxB,SAASC,SACLC,EAAE,iBAAiBC,MAAMC,UACzBF,EAAE,gBAAgBG,MAAMC,eACxBJ,EAAE,mBAAmBG,MAAME,iBAC3BL,EAAE,aAAaG,MAAMG,kBACrBN,EAAE,gBAAgBG,MAAMI,mBACxBP,EAAE,cAAcG,MAAMI,mBACtBP,EAAE,kBAAkBG,MAAMI,mBAC1BP,EAAEQ,QAAQC,OAAOC,UAGrB,SAASC,iBACDd,MAAMC,mBACNE,EAAE,cAAcY,IAAI,CAChBC,QAAS,SAKjBb,EAAE,cAAcY,IAAI,CAChBC,QAAS,UAIjB,SAASN,oBACLO,QAAQC,IAAI,qBACZ,IAAIC,EAAShB,EAAE,WAEXH,MAAMC,mBACNkB,EAAOC,YAAY,eAEnBD,EAAOE,SAAS,eAEpBP,iBACAd,MAAMC,oBAAsBD,MAAMC,mBAGtC,SAASY,WACDV,EAAEmB,MAAMC,YAAc1B,8BACtBM,EAAE,aAAaqB,OAAO1B,WAAWC,aAGrCI,EAAE,aAAasB,QAAQ3B,WAAWC,aAGtC,SAAS2B,oBACLvB,IAGJ,SAASK,gBAAgBmB,GACrBA,EAAMnB,kBAGV,SAASC,mBACLE,OAAOiB,SAAS,CAAEC,IAAK,EAAGC,SAAU,WAGxC,SAASC,qBACL5B,EAAE,mBAAmBiB,YAAY,wBAGrC,SAASb,cAAcoB,GACnBA,EAAMK,iBACNxB,gBAAgBmB,GAChBxB,EAAE,mBAAmBkB,SAAS,wBAC9BlB,EAAE,QAAQG,MAAMyB,oBAGpB,SAAS1B,WACL4B,SAASC,YAGb,SAASD,SAASE,EAAIC,GAClB,IAAIC,EAAMF,EAAGG,KACT/C,SAAS8C,IAAME,aAAahD,SAAS8C,IACzC9C,SAAS8C,GAAOG,WAAWL,EAAIC,GAAK,KAGxC,SAASK,kBACL,OAAOC,MAAMC,IAAIC,IAAI,QAAS,CAC1BC,OAAQ,CAAC,QAAS,OAAQ,aAC1BC,QAAS,cAIjB,SAASZ,aACL,IAAIa,EAAgB5C,EAAE,iBAAiB6C,MAEnCL,EAAMF,kBAEVtC,EAAE8C,KAAKN,GAAKO,KAAK,SAAUC,GACTC,UAAUC,GAAGN,EAAeI,EAAIG,MAAO,CACjDC,KAAM,CACF,QACA,aAEJC,MAAO,GACPC,WAAW,EACXC,WAAY,SApGxBxD","file":"main.js","sourcesContent":["var DEBOUNCE = {};\nvar CURRENT_HOST = [location.protocol, '//', location.host].join('');\nvar LIMIT_TO_SHOW_BUTTON_BACK_TOP = 200\nvar DURANTIONS = {\n    SHOW_BUTTON: 300\n}\nvar STATE = {\n    menuMobileIsOpened: false\n}\n\nonInit();\n\nfunction onInit() {\n    $('#search-field').keyup(onSearch);\n    $('.search-icon').click(onClickSearch);\n    $('.search-popover').click(stopPropagation);\n    $('#back-top').click(onClickScrollTop);\n    $('#menu-mobile').click(onClickMenuMobile);\n    $('#drop-back').click(onClickMenuMobile);\n    $('#drawer-button').click(onClickMenuMobile);\n    $(window).scroll(onScroll)\n}\n\nfunction changeDropBack() {\n    if (STATE.menuMobileIsOpened) {\n        $('#drop-back').css({\n            display: 'none'\n        })\n        return\n    }\n\n    $('#drop-back').css({\n        display: 'block'\n    })\n}\n\nfunction onClickMenuMobile() {\n    console.log('onClickMenuMobile');\n    var drawer = $('#drawer')\n\n    if (STATE.menuMobileIsOpened) {\n        drawer.removeClass('open-drawer')\n    } else {\n        drawer.addClass('open-drawer')\n    }\n    changeDropBack()\n    STATE.menuMobileIsOpened = !STATE.menuMobileIsOpened;\n}\n\nfunction onScroll() {\n    if ($(this).scrollTop() > LIMIT_TO_SHOW_BUTTON_BACK_TOP) {\n        $('#back-top').fadeIn(DURANTIONS.SHOW_BUTTON);\n        return;\n    }\n    $('#back-top').fadeOut(DURANTIONS.SHOW_BUTTON);\n}\n\nfunction showButtonBackTop() {\n    $()\n}\n\nfunction stopPropagation(event) {\n    event.stopPropagation();\n}\n\nfunction onClickScrollTop() {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n\nfunction clearSearchPopover() {\n    $('.search-popover').removeClass('search-popover--show')\n}\n\nfunction onClickSearch(event) {\n    event.preventDefault();\n    stopPropagation(event)\n    $('.search-popover').addClass('search-popover--show')\n    $('html').click(clearSearchPopover)\n}\n\nfunction onSearch() {\n    debounce(searchInit)\n}\n\nfunction debounce(fn, m) {\n    var key = fn.name;\n    if (DEBOUNCE[key]) clearTimeout(DEBOUNCE[key])\n    DEBOUNCE[key] = setTimeout(fn, m || 400)\n}\n\nfunction getGhostPostUrl() {\n    return ghost.url.api('posts', {\n        fields: ['title', 'slug', 'plaintext'],\n        formats: 'plaintext'\n    })\n}\n\nfunction searchInit() {\n    var inputedSearch = $('#search-field').val()\n\n    var url = getGhostPostUrl();\n\n    $.ajax(url).then(function (res) {\n        var results = fuzzysort.go(inputedSearch, res.posts, {\n            keys: [\n                'title',\n                'plaintext'\n            ],\n            limit: 10,\n            allowTypo: false,\n            threshold: -3500\n        });\n\n        // for (var key in results) {\n        //     if (key < results.length) {\n        //         var result = results[key].obj;\n\n        //         '<a href=\"' + url + '/' + result.slug + '/\">' + result.title + '</a>'\n        //     };\n        // }\n    })\n\n}\n"],"sourceRoot":"/source/"}